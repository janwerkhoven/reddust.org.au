// All headings, paragraphs and buttons will inherit these font styles from the <body>

body {
  font-family: $montserrat-regular;
  font-style: normal;
  font-weight: normal;
  font-size: 16px;
  line-height: 130%;
  margin: 0;
  color: $reddust-stone;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: $reddust-bone;
}
// The general layout of the page

footer,
header,
section {
  min-width: 320px;

  > div {
    min-width: 320px;
    max-width: 1080px;
    margin: 0 auto;
    box-sizing: border-box;
    padding: 0 20px;
    overflow: hidden;
  }
}
// To avoid <img> and <iframe> to have weird white space below them, make them a block

iframe,
img {
  display: block;
}
// In most cases we use <ul> not as bullet lists and thus we strip them of all browser defaults

ul {
  list-style: none;
  margin: 0;
  padding: 0;

  li {
    padding: 0;
  }
}
// This is to override the browser default font-weight and margins

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: $from-where-you-are-regular;
  font-style: normal;
  font-weight: normal;
  line-height: 150%;
  margin: 0;
}
// Normal hyperlinks

a {
  text-decoration: none;

  &:hover {
    text-decoration: none;
  }
}
// Buttons

a.button,
button {
  display: inline-block;
  font-size: 15px;
  text-transform: uppercase;
  font-weight: bold;
  line-height: 32px;
  padding: 0 14px;
  border-radius: 5px;
  background-color: transparent;
  border: $reddust-gold 1px solid;
  color: $reddust-gold;
  cursor: pointer;

  &.support {
    margin: 2px 0;

    &:hover {
      color: $reddust-sunset;
      border-color: $reddust-sunset;
    }
  }

  &.rust {
    background-color: $reddust-rust;

    &:hover {
      background-color: $reddust-sunset;
      border-color: $reddust-sunset;
    }
  }

  &.gold {
    color: $reddust-gold;
    border-color: $reddust-gold;

    &:hover {
      color: $reddust-cream;
      border-color: $reddust-cream;
    }
  }

  &.cream {
    color: $reddust-cream;
    border-color: $reddust-cream;

    &:hover {
      color: $reddust-sunset;
      border-color: $reddust-sunset;
    }
  }

  &.large {
    padding: 0 50px;
    line-height: 46px;
  }
}

.icon {
  cursor: pointer;

  img {
    height: auto;
  }

  img:nth-last-child(1) {
    display: none;
  }

  &:hover {
    img:nth-last-child(2) {
      display: none;
    }

    img:nth-last-child(1) {
      display: block;
    }
  }
}
//Header Mobile Navigation Toggle

.mobile-nav-active {
  header div nav ul {
    display: flex;
  }
  @media (max-width: 600px) {
    section:nth-child(1) {
      filter: blur(2px);

      &::before {
        content: ('');
        position: absolute;
        width: 100%;
        height: 400px;
        background: rgba(0,0,0,0.1);
      }
    }
  }
}
// For the outdated browser message

#outdated {
  p {
    max-width: none;
  }
}
// Most hero sections share the same CSS

section#hero {
  background-size: cover;
  background-position: 50% 50%;
  height: 50vw;
  max-height: 700px;
}
// Both partner and people tiles share the same tile layout styles

section.tiles {
  > div {
    padding: 0;
    max-width: 2400px;
  }

  ul {
    display: flex;
    flex-flow: row wrap;
    justify-content: center;

    li {
      width: 16.666666vw;
      height: 16.666666vw;
      max-width: 400px;
      max-height: 400px;
      min-width: 160px;
      min-height: 160px;
      padding: 1px;
      box-sizing: border-box;
      background: #EEE;
      @media (max-width: 2000px) {
        width: 20vw;
        height: 20vw;
      }
      @media (max-width: 1600px) {
        width: 25vw;
        height: 25vw;
      }
      @media (max-width: 900px) {
        width: 33.3333vw;
        height: 33.3333vw;
      }
      @media (max-width: 600px) {
        width: 50vw;
        height: 50vw;
      }
    }
  }
  // Partner tiles 3D flip from logo to description
  &.partners {
    li {
      .flip-container {
        perspective: 1000px;
        width: 100%;
        height: 100%;

        &.hover,
        &:hover {
          .flipper {
            transform: rotateY(180deg);
          }
        }

        .flipper {
          position: relative;
          transition: 0.6s;
          transform-style: preserve-3d;
          width: 100%;
          height: 100%;

          .back,
          .front {
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
          }

          .front {
            z-index: 2;
            transform: rotateY(0deg);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;

            img {
              width: 80%;
              height: 80%;
            }
          }

          .back {
            transform: rotateY(180deg);
            background-color: $reddust-sunset;
            box-sizing: border-box;
            padding: 0 2vw;
            @media (max-width: 900px) {
              padding: 2vw;
            }

            h3 {
              font-family: $montserrat-bold;
              text-transform: uppercase;
              color: white;
              text-align: center;
              margin: 28px 0 20px;
              font-size: 20px;
              line-height: 130%;
              @media (max-width: 900px) {
                display: none;
              }
            }

            p {
              font-family: $montserrat-regular;
              color: $reddust-cream;
              line-height: 130%;
              font-size: 14px;
              @media (max-width: 600px) {
                font-size: 13px;
              }
            }
          }
        }
      }
    }
  }
  // People tiles open a lightbox when clicked upon
  &.people {
    li {
      position: relative;
      cursor: pointer;
      padding: 0;
      background: $reddust-rust;
      overflow: hidden;

      > img {
        width: 100%;
        height: auto;
        transition: transform 500ms ease;
      }

      > h2 {
        font-family: $montserrat-bold;
        font-size: 15px;
        line-height: 100%;
        text-transform: uppercase;
        letter-spacing: 0.4px;
        color: white;
        position: absolute;
        bottom: 6%;
        right: 7%;
      }

      .no-image {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: $reddust-rust;
        text-align: center;
        display: flex;
        flex-flow: column nowrap;
        justify-content: center;
        transition: transform 500ms ease;

        h2,
        h3 {
          font-family: $montserrat-bold;
          text-transform: uppercase;
          color: white;
          font-size: 22px;
          line-height: 150%;
          color: white;
        }

        h3 {
          font-size: 18px;
          color: $reddust-cream;
        }
      }

      &:hover {
        .no-image,
        img {
          transform: scale(1.06);
        }
      }
    }

    .modal {
      position: fixed;
      z-index: -1;
    }
  }
}
